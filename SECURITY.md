# 보안 가이드

## 구현된 보안 기능

### 1. 인증 및 권한 관리
- **비밀번호 해싱**: bcrypt를 사용한 안전한 비밀번호 저장
- **세션 관리**: 보안 강화된 세션 설정
- **권한 검증**: 관리자 권한 체크 미들웨어

### 2. 입력 검증 및 정제
- **XSS 방지**: HTML 태그 및 스크립트 제거
- **입력 길이 제한**: 사용자 입력 길이 제한
- **특수문자 필터링**: 위험한 문자 제거

### 3. 보안 헤더
- **X-XSS-Protection**: XSS 공격 방지
- **X-Frame-Options**: 클릭재킹 방지
- **X-Content-Type-Options**: MIME 타입 스니핑 방지
- **Strict-Transport-Security**: HTTPS 강제 (프로덕션)

### 4. 세션 보안
- **httpOnly 쿠키**: JavaScript에서 쿠키 접근 방지
- **sameSite**: CSRF 공격 방지
- **세션 재생성**: 세션 고정 공격 방지
- **타이밍 공격 방지**: 일정한 응답 시간 유지

## 설정 방법

### 1. 환경 변수 설정
```bash
# .env 파일 생성
cp env.example .env

# 세션 시크릿 변경 (프로덕션에서 필수)
SESSION_SECRET=your-very-long-random-secret-key
```

### 2. 비밀번호 해싱
```bash
# 관리자 비밀번호 해싱 (한 번만 실행)
node scripts/hashAdminPassword.js
```

### 3. 프로덕션 설정
- HTTPS 사용 필수
- 강력한 세션 시크릿 설정
- 환경 변수 NODE_ENV=production 설정

## 보안 체크리스트

- [ ] 환경 변수 설정 완료
- [ ] 비밀번호 해싱 완료
- [ ] HTTPS 설정 (프로덕션)
- [ ] 세션 시크릿 변경
- [ ] 로그 모니터링 설정
- [ ] 정기적인 보안 업데이트

## 주의사항

1. **세션 시크릿**: 프로덕션에서는 반드시 강력한 랜덤 문자열로 변경
2. **HTTPS**: 프로덕션 환경에서는 HTTPS 필수
3. **로그 관리**: 민감한 정보가 로그에 기록되지 않도록 주의
4. **정기 업데이트**: 의존성 패키지 정기 업데이트
